(this["webpackJsonpmovieapp-frontend"]=this["webpackJsonpmovieapp-frontend"]||[]).push([[0],{44:function(e,t,a){e.exports=a.p+"static/media/movieapplogo.5bbff702.png"},46:function(e,t,a){e.exports=a(78)},51:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),i=a.n(s),c=(a(51),a(2)),o=a(3),l=a(5),m=a(4),u=a(6),h=a(8),d=a(7),v=a(41),p=a(24),f=a.n(p);function E(e,t,a){return new Promise((function(n,r){return f.a[e.toLowerCase()](t,a).then((function(e){return n(e.data)})).catch((function(e){return r(e)}))}))}var g="SET_CURRENT_USER",b=function(e){return{type:"ADD_ERROR",error:e}},w=function(){return{type:"REMOVE_ERROR"}};function N(e){return{type:g,user:e}}function O(e){!function(e){e?f.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete f.a.defaults.headers.common.Authorization}(e)}var y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).logout=function(e){e.preventDefault(),a.props.logout()},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"nav-navbar"},r.a.createElement("div",null,r.a.createElement(h.b,{to:"/",className:"nav-title"},r.a.createElement("i",{className:"fas fa-film "})," ",r.a.createElement("span",{className:"nav-text-mobile"},"The Movie App"),r.a.createElement("span",{className:"nav-logo-mobile"},"TMA"))),this.props.currentUser.isAuthenticated?r.a.createElement("div",null,r.a.createElement(h.b,{to:"/user/".concat(this.props.currentUser.user.id),className:"nav-userButton"},r.a.createElement("i",{className:"far fa-user"})," ",r.a.createElement("span",{className:"nav-text-mobile"},"Profile")),r.a.createElement(h.b,{to:"/users/".concat(this.props.currentUser.user.id,"/reviews/new"),className:"nav-button"},r.a.createElement("span",{className:"nav-text-mobile"},"Create Review")," ",r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("button",{className:"nav-logout",onClick:this.logout},r.a.createElement("i",{className:"fas fa-sign-out-alt"}))):r.a.createElement("div",null,r.a.createElement(h.b,{to:"/signup",className:"nav-text"},"Sign up"),r.a.createElement(h.b,{to:"/signin",className:"nav-text nav-login"},"Log in")))}}]),t}(n.Component);var j=Object(d.b)((function(e){return{currentUser:e.currentUser}}),{logout:function(){return function(e){localStorage.clear(),O(!1),e(N({}))}}})(y),S=a(18),C=a(29),x={isAuthenticated:!1,user:{}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_REVIEWS":return t.reviews;case"REMOVE_REVIEW":return e.filter((function(e){return e._id!==t.id}));default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_COMMENTS":return t.comments;case"REMOVE_COMMENT":return e.filter((function(e){return e._id!==t.id}));default:return e}},R=Object(S.c)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{isAuthenticated:!!Object.keys(t.user).length,user:t.user};default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return Object(C.a)({},e,{message:t.error});case"REMOVE_ERROR":return Object(C.a)({},e,{message:null});default:return e}},reviews:k,comments:U}),_=a(43);var A=a(17),D=a(12),M=function(){return function(e){return E("get","http://localhost:8000/").then((function(t){e({type:"LOAD_REVIEWS",reviews:t})})).catch((function(t){e(b(t))}))}},I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleEdit=function(e){e.preventDefault();var t=window.location.pathname.slice(0,64);E("put","http://localhost:8000".concat(t),a.state),a.setState({user:"",title:"",image:"",text:""}),a.props.history.push(t)},a.handleSubmit=function(e){e.preventDefault(),a.props.postNewReview(a.state),a.setState({user:"",title:"",image:"",text:""}),a.props.history.push("/")},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.handleSubmit=a.handleSubmit.bind(Object(D.a)(a)),a.state={user:a.props.currentUser.user.username,title:"",image:"",text:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(window.location.pathname.match("/users/.*/reviews/.*/edit")){var t=window.location.pathname.slice(0,64);E("get","http://localhost:8000".concat(t)).then((function(t){e.setState({image:t.image,title:t.title,text:t.text})})).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){var e=(new Date).toDateString();return r.a.createElement("div",{className:"create-container"},r.a.createElement("div",{className:"create-review"},r.a.createElement("h2",null,"Your Review:"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"create-form"},this.props.errors.message&&r.a.createElement("div",{className:"auth-error"},this.props.errors.message),r.a.createElement("label",{htmlFor:"movie"}),r.a.createElement("input",{className:"create-input",placeholder:"Movie Title",name:"title",onChange:this.handleChange,type:"text",value:this.state.title}),r.a.createElement("label",{htmlFor:"image"}),r.a.createElement("input",{className:"create-input",placeholder:"URL for the Image of that Movie",name:"image",value:this.state.image,onChange:this.handleChange,type:"text"}),r.a.createElement("label",{htmlFor:"review"}),r.a.createElement("textarea",{rows:"10",cols:"25",value:this.state.text,className:"create-input textarea",placeholder:"Your Review",name:"text",onChange:this.handleChange,type:"text"}),this.props.Edit?r.a.createElement("button",{onClick:this.handleEdit,id:"create-edit-button",className:"create-button"},"Edit!"):r.a.createElement("button",{className:"create-button",type:"submit"},"Submit!"))),r.a.createElement("div",{className:"preview"},r.a.createElement("h2",null,"Preview:"),r.a.createElement("div",{className:"create-preview"},r.a.createElement("div",{className:"preview-top"},r.a.createElement("img",{className:"preview-image",src:this.state.image,alt:""}),r.a.createElement("h1",{className:"preview-title"},this.state.title),r.a.createElement("h3",{className:"preview-user"},this.state.user?"Review by: ":"",this.state.user)),r.a.createElement("div",{className:"preview-content"},r.a.createElement("p",{className:"preview-text"},this.state.text),r.a.createElement("h5",{className:"preview-date"},this.state.text?e:"")))))}}]),t}(n.Component);var T=Object(d.b)((function(e){return{errors:e.errors,currentUser:e.currentUser}}),{postNewReview:function(e){return function(t,a){var n=a().currentUser.user.id;return E("post","http://localhost:8000/users/".concat(n,"/reviews"),e).then((function(e){})).catch((function(e){t(b("Review submition failed. Did you fill out all the fields?"))}))}}})(I),F=a(23),P=a.n(F),L=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userUrl,a=e.username,n=e.comment,s=e.date,i=e.isCurrentUser,c=e.removeComment;return r.a.createElement("div",{className:"comment-box"},r.a.createElement("div",{className:"comment-user-and-delete"},r.a.createElement(h.b,{to:"/user/".concat(t),className:"comment-user"},r.a.createElement("i",{id:"comment-user-icon",className:"far fa-user"})," ",a),i&&r.a.createElement("button",{className:"reviewPage-delete",id:"comment-delete",onClick:c},r.a.createElement("i",{className:"far fa-trash-alt"}))),r.a.createElement("p",{className:"comment-text"},n),r.a.createElement(P.a,{className:"comment-date",format:"DD MM YYYY"},s))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={user_id:a.props.currentUser.user.id,reviewUserId:window.location.pathname.slice(7,31),reviewId:window.location.pathname.slice(40,64)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchComments(this.state)}},{key:"render",value:function(){var e=this,t=this.props,a=t.comments,n=t.removeComment,s=a.map((function(t){return r.a.createElement(L,{key:t._id,userUrl:t.user._id,comment:t.comment,date:t.createdAt,username:t.user.username,removeComment:n.bind(e,t._id,e.state.reviewUserId,e.state.reviewId,e.state.user_id),isCurrentUser:e.props.currentUser.user.id===t.user._id})}));return r.a.createElement("div",null,s)}}]),t}(n.Component);var W=Object(d.b)((function(e){return{currentUser:e.currentUser,comments:e.comments}}),{fetchComments:function(e){return function(t){return E("get","http://localhost:8000/users/".concat(e.reviewUserId,"/reviews/").concat(e.reviewId,"/comments")).then((function(e){t({type:"LOAD_COMMENTS",comments:e})})).catch((function(e){t(b(e))}))}},removeComment:function(e,t,a,n){return function(r){return E("delete","/users/".concat(t,"/reviews/").concat(a,"/user/").concat(n,"/comments/").concat(e)).then((function(){return r({type:"REMOVE_COMMENT",id:e})})).catch((function(e){r(b(e.messages))}))}}})(V),Y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.props.removeError(),a.setState(Object(A.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){a.props.postNewComment(a.state),a.setState({comment:""})},a.state={commentFormHidden:!0,comment:"",user_id:"",reviewUserId:"",reviewId:""},a.ShowForm=a.ShowForm.bind(Object(D.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({commentFormHidden:!0,user_id:this.props.currentUser.user.id,reviewUserId:window.location.pathname.slice(7,31),reviewId:window.location.pathname.slice(40,64)})}},{key:"ShowForm",value:function(){this.setState({commentFormHidden:!this.state.commentFormHidden})}},{key:"render",value:function(){return r.a.createElement("div",{className:"comment-form"},r.a.createElement("button",{onClick:this.ShowForm,className:"button btn-grad"},"Comment ",this.state.commentFormHidden?r.a.createElement("i",{className:"fas fa-plus"}):r.a.createElement("i",{className:"fas fa-minus"})),r.a.createElement("div",null,this.state.commentFormHidden?null:r.a.createElement("div",{className:"comment-form-box"},r.a.createElement("form",{className:"commentForm",onSubmit:this.handleSubmit},r.a.createElement("input",{placeholder:"Comment",autoComplete:"off",className:"comment-input",name:"comment",onChange:this.handleChange,type:"text",value:this.state.comment}),r.a.createElement("button",{type:"submit",id:"comment-button",className:"button btn-grad"},r.a.createElement("i",{className:" fas fa-plus"}))))))}}]),t}(n.Component);var B=Object(d.b)((function(e){return{currentUser:e.currentUser}}),{postNewComment:function(e){return function(t,a){return E("post","http://localhost:8000/users/".concat(e.reviewUserId,"/reviews/").concat(e.reviewId,"/comments"),e).then((function(e){})).catch((function(e){t(b("Comment submition failed. Did you fill out all the fields?"))}))}}})(Y),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).removeRev=function(e){e.preventDefault(),a.props.removeReview(a.state.user,a.state.id),a.props.history.push("/")},a.state={image:"",title:"",user:"",text:"",date:"",id:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;E("get","http://localhost:8000".concat(window.location.pathname)).then((function(t){e.setState({image:t.image,title:t.title,user:t.user,text:t.text,date:t.createdAt,id:t._id})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;this.props.history.listen((function(){e.props.removeError()}));var t=this.state,a=t.title,n=t.user,s=t.text,i=t.date,c=t.image;return r.a.createElement("div",null,r.a.createElement("div",{className:"review-page"},r.a.createElement("div",{className:"reviewPage-top"},r.a.createElement("img",{className:"reviewPage-image",src:c,alt:a}),r.a.createElement("h1",{className:"reviewPage-title"},a),this.props.currentUser.user.id===this.state.user?r.a.createElement("h3",{className:"reviewPage-user"},"This is Your review."):r.a.createElement(h.b,{to:"/user/".concat(n),className:"reviewPage-user"},"Other reviews by this author.")),r.a.createElement("div",{className:"reviewPage-content"},r.a.createElement("p",{className:"reviewPage-text"},s),r.a.createElement(P.a,{className:"reviewPage-date",format:"DD MM YYYY"},i)),this.props.currentUser.user.id===this.state.user&&r.a.createElement("div",{className:"reviewPage-buttons"},r.a.createElement(h.b,{to:"/users/".concat(this.state.user,"/reviews/").concat(this.state.id,"/edit"),className:"reviewPage-update"},"Update ",r.a.createElement("i",{className:"fas fa-sync-alt"})),r.a.createElement("button",{className:"reviewPage-delete",onClick:this.removeRev},"Delete ",r.a.createElement("i",{className:"far fa-trash-alt"}))),this.props.errors.message&&r.a.createElement("div",{className:"auth-error",id:"reviewPage-error"},this.props.errors.message.toString()),r.a.createElement(B,{removeError:this.props.removeError}),r.a.createElement(W,null)))}}]),t}(n.Component);var z=Object(d.b)((function(e){return{currentUser:e.currentUser,errors:e.errors}}),{removeReview:function(e,t){return function(a){return E("delete","http://localhost:8000/users/".concat(e,"/reviews/").concat(t)).then((function(){a({type:"REMOVE_REVIEW",id:t})})).catch((function(e){a(b(e.messages))}))}}})(H),X=function(e){var t=e.commentAmount,a=e.title,n=e.user,s=e.image,i=(e.text,e.id);e.date;return r.a.createElement(h.b,{to:"/users/".concat(n,"/reviews/").concat(i)},r.a.createElement("div",{className:"review-card"},r.a.createElement("img",{className:"review-image shadow",src:s,alt:a}),r.a.createElement("div",{className:"review-content"},r.a.createElement("h3",{className:"review-title"},a),r.a.createElement("h4",{className:"review-creator"},r.a.createElement("i",{id:"comment-amount",className:"fas fa-comments"}),"(",t>0?t:0,")"))))},J=a(44),q=a.n(J),$=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"landing-text"},r.a.createElement("h1",{className:"landing-h1"},"Read. Watch. Review.")),r.a.createElement("h3",{className:"landing-h3"},"An endless cycle."),r.a.createElement("img",{className:"landing-image",src:q.a,alt:"Landing"})))},G=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchReviews()}},{key:"render",value:function(){var e=this.props,t=e.reviews,a=e.currentUser,n=e.errors,s=e.removeError,i=e.history,c=t.map((function(e){return e})).sort((function(e,t){return t.comments.length-e.comments.length})).slice(0,5).map((function(e){return r.a.createElement(X,{key:e._id,id:e._id,title:e.title,user:e.user._id,image:e.image,date:e.createdAt,text:e.text,commentAmount:e.comments.length})})),o=t.slice(0,5).map((function(e){return r.a.createElement(X,{key:e._id,id:e._id,title:e.title,user:e.user._id,image:e.image,date:e.createdAt,text:e.text,commentAmount:e.comments.length})}));return i.listen((function(){s()})),a.isAuthenticated?r.a.createElement("div",null,n.message&&r.a.createElement("div",{className:"auth-error",id:"catalogue-error"},n.message.toString()),r.a.createElement("div",{className:"review-most-active"},r.a.createElement("h1",{className:"review-most-active-title"},r.a.createElement("i",{className:"fas fa-fire catalogue-icon"})," Active Reviews"),r.a.createElement("div",{className:"review-list"},c)),r.a.createElement("div",{className:"review-most-recent"},r.a.createElement("div",{className:"review-most-recent-top"},r.a.createElement("h1",{className:"review-most-active-title",id:"recent-title"},r.a.createElement("i",{className:"far fa-clock catalogue-icon"})," Recent Reviews"),r.a.createElement(h.b,{to:"/allreviews",className:"review-browseall"},"Browse All")),r.a.createElement("div",{className:"review-list"},o))):r.a.createElement("div",null,r.a.createElement($,null))}}]),t}(n.Component);var K=Object(d.b)((function(e){return{reviews:e.reviews}}),{fetchReviews:M})(G),Q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.props.signUp?"signup":"signin";a.props.onAuth(t,{email:a.state.email,username:a.state.username,password:a.state.password}).then((function(){a.props.history.push("/")})).catch((function(e){return e}))},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.state={email:"",username:"",password:"",hidden:!0},a.toggleShow=a.toggleShow.bind(Object(D.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({hidden:!0})}},{key:"toggleShow",value:function(){this.setState({hidden:!this.state.hidden})}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.username,n=e.password,s=this.props,i=s.signUp,c=s.heading,o=s.buttonText,l=s.errors,m=s.history,u=s.removeError;return m.listen((function(){u()})),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit,className:"auth-form"},r.a.createElement("h2",{className:"auth-heading"},c),l.message&&r.a.createElement("div",{className:"auth-error"},l.message.toString()),r.a.createElement("label",{htmlFor:"email"}),r.a.createElement("input",{placeholder:"Email",autoComplete:"off",className:"auth-input",id:"email",name:"email",onChange:this.handleChange,type:"text",value:t}),r.a.createElement("div",{className:"auth-password"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{placeholder:"Password",autoComplete:"off",className:"auth-password-input",id:"password",name:"password",onChange:this.handleChange,type:this.state.hidden?"password":"text",value:n}),r.a.createElement("h3",{className:"auth-visible",onClick:this.toggleShow},r.a.createElement("i",{className:"far fa-eye"}))),i&&r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"}),r.a.createElement("input",{placeholder:"Username",autoComplete:"off",className:"auth-input",id:"username",name:"username",onChange:this.handleChange,type:"text",value:a})),r.a.createElement("button",{type:"submit",className:"auth-button btn-grad"},o)))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={username:"",activityScore:0,infoDisplay:!1,reviews:[]},a.handleInfo=a.handleInfo.bind(Object(D.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleInfo",value:function(){this.setState({infoDisplay:!this.state.infoDisplay})}},{key:"componentDidMount",value:function(){var e=this;E("get","http://localhost:8000".concat(window.location.pathname)).then((function(t){e.setState({username:t.username,activityScore:t.activityScore})})).catch((function(e){return console.log(e)}));E("get","http://localhost:8000".concat(window.location.pathname).concat("/reviews")).then((function(t){e.setState({reviews:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.reviews.map((function(e){return r.a.createElement(X,{key:e._id,id:e._id,title:e.title,user:e.user,image:e.image,date:e.createdAt,text:e.text,commentAmount:e.comments.length})}));return r.a.createElement("div",null,this.state.username?r.a.createElement("div",{className:"profile-top"},r.a.createElement("h1",{className:"profile-header"},this.state.username,"'s Reviews"),r.a.createElement("div",{id:"activity-score"},r.a.createElement("h1",{className:"activity-score-text"},r.a.createElement("i",{className:"fas fa-trophy profile-trophy",id:this.state.activityScore<15?"bronze":[this.state.activityScore>=15&&this.state.activityScore<25?"silver":"gold"]}),"Activity Score: ",this.state.activityScore),r.a.createElement("button",{onClick:this.handleInfo,id:"information"},"i"),this.state.infoDisplay?r.a.createElement("div",{className:"info-display"},"Activity score is increased by creating reviews and commenting on existing ones. It is equally decreased if you remove a review or a comment. By default everyone gets a bronze trophy, after 15 points - a silver one, after 25 - a golden one."):null)):r.a.createElement("h1",{className:"profile-header"},"Loading"),r.a.createElement("div",{className:"review-list",id:"profile-review-list"},e))}}]),t}(n.Component);var ee=function(e){var t=function(t){function a(){return Object(c.a)(this,a),Object(l.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,t),Object(o.a)(a,[{key:"componentWillMount",value:function(){!1===this.props.isAuthenticated&&this.props.history.push("/signin")}},{key:"componentWillUpdate",value:function(e){!1===e.isAuthenticated&&this.props.history.push("/signin")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(n.Component);return Object(d.b)((function(e){return{isAuthenticated:e.currentUser.isAuthenticated}}))(t)},te=a(19),ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={searchInput:""},a.onSearchChange=a.onSearchChange.bind(Object(D.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onSearchChange",value:function(e){this.setState({searchInput:e.target.value})}},{key:"componentDidMount",value:function(){this.props.fetchReviews()}},{key:"render",value:function(){var e=this,t=this.props.reviews.filter((function(t){return t.title.toLowerCase().includes(e.state.searchInput.toLowerCase())})).map((function(e){return r.a.createElement(X,{key:e._id,id:e._id,title:e.title,user:e.user._id,image:e.image,date:e.createdAt,text:e.text,commentAmount:e.comments.length})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"allreviews-input-box"},r.a.createElement("label",{htmlFor:"search"}),r.a.createElement("input",{type:"search",onChange:this.onSearchChange,name:"searchInput",className:"allreviews-input",placeholder:"Search"})),r.a.createElement("div",{className:"review-list"},t))}}]),t}(n.Component);var ne=Object(d.b)((function(e){return{reviews:e.reviews}}),{fetchReviews:M})(ae);var re=Object(te.f)(Object(d.b)((function(e){return{currentUser:e.currentUser,errors:e.errors}}),{authUser:function(e,t){return function(a){return new Promise((function(n,r){return E("post","http://localhost:8000/auth/".concat(e),t).then((function(e){var t=e.token,r=Object(v.a)(e,["token"]);localStorage.setItem("jwtToken",t),O(t),a(N(r)),a(w()),n()})).catch((function(e){a(b(e.message)),r()}))}))}},removeError:w})((function(e){var t=e.errors,a=e.removeError,n=e.authUser,s=e.currentUser;return r.a.createElement("div",{className:"container"},r.a.createElement(te.c,null,r.a.createElement(te.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(K,Object.assign({errors:t,removeError:a,currentUser:s},e))}}),r.a.createElement(te.a,{exact:!0,path:"/allreviews",render:function(e){return r.a.createElement(ne,e)}}),r.a.createElement(te.a,{path:"/users/:id/reviews/new",component:ee(T)}),r.a.createElement(te.a,{exact:!0,path:"/signin",render:function(e){return r.a.createElement(Q,Object.assign({removeError:a,errors:t,onAuth:n,buttonText:"Log in",heading:"Welcome Back."},e))}}),r.a.createElement(te.a,{exact:!0,path:"/signup",render:function(e){return r.a.createElement(Q,Object.assign({removeError:a,errors:t,onAuth:n,signUp:!0,buttonText:"Sign up",heading:"Movie reviews. All of them."},e))}}),r.a.createElement(te.a,{exact:!0,path:"/user/:id",render:function(e){return r.a.createElement(Z,e)}}),r.a.createElement(te.a,{exact:!0,path:"/users/:id/reviews/:id",render:function(e){return r.a.createElement(z,Object.assign({removeError:a,errors:t},e))}}),r.a.createElement(te.a,{path:"/users/:id/reviews/:id/edit",render:function(e){return r.a.createElement(T,Object.assign({Edit:!0},e))}})))}))),se=a(45),ie=a.n(se),ce=Object(S.e)(R,Object(S.d)(Object(S.a)(_.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));if(localStorage.jwtToken){O(localStorage.jwtToken);try{ce.dispatch(N(ie()(localStorage.jwtToken)))}catch(le){ce.dispatch(N({}))}}var oe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:ce},r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(j,null),r.a.createElement(re,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.6c62de36.chunk.js.map